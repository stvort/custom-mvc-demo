<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Астролябии и секстанты онлайн</title>
    <link rel="stylesheet" href="styles.css">
    <script>
        function loadReport(reportName, containerTableBodyId) {
            const containerTableBody = document.getElementById(containerTableBodyId)
            fetch(`api/reports?reportName=${reportName}`)
                .then(rawResponse => rawResponse.json())
                .then(data => {
                    let innerHtml = '';
                    for (let i = 0; i < data.length; i++) {
                       innerHtml += `<tr><td>${data[i].year}</td><td>${data[i].product}</td><td>${data[i].amount}</td></tr>`
                    }
                    containerTableBody.innerHTML = innerHtml
                })
        }

        function loadReports() {
            loadReport('AstrolabeReport', 'astrolabeTableBody')
            loadReport('SextantReport', 'sextantTableBody')
        }
    </script>
</head>
<body onload="loadReports()">

<div class="container">
    <header>
        <h1>Астролябии и секстанты онлайн - отчеты</h1>
        <a href="index.html"><button class="nav-button">Назад</button></a>
    </header>
    <div class="content">
        <div class="block" id="block1">
            <h2>Астролябии</h2>
            <table class="report">
                <thead>
                <tr>
                    <th>Год</th>
                    <th>Товар</th>
                    <th>Продано</th>
                </tr>
                </thead>
                <tbody id="astrolabeTableBody">
                </tbody>
            </table>
        </div>
        <div class="block" id="block2">
            <h2>Секстанты</h2>
            <table class="report">
                <thead>
                <tr>
                    <th>Год</th>
                    <th>Товар</th>
                    <th>Продано</th>
                </tr>
                </thead>
                <tbody id="sextantTableBody">
                </tbody>
            </table>
        </div>
    </div>
</div>
</body>
</html>